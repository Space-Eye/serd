<head>
  <style>
    div {
      color: white;
      display: flex;
      padding: 2%;
      height: 80%;
      overflow-y: scroll;
      overflow-x: scroll;
    }
    td,
    th,
    p {
      text-align: center;
      font-size: 1.25em;
    }
    table {
      padding: 3%;
      border-collapse: collapse;
      border: 2px ridge green;
    }
    th {
      top: 0;
      position: sticky;
      color: black;
      background-color: white;
    }
  </style>
</head>
<body>
  <div class="main">
    <table border="1">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>PLZ</th>
        <th>Ort</th>
        <th>Gesamtanzahl der Personen</th>
        <th>davon Kinder unter zwölf</th>
        <th>Straße</th>
        <th>Tel</th>
        <th>mail</th>
        <th>Sprachen</th>
        <th>Kosten</th>
        <th>spontan</th>
        <th>verfügbar ab</th>
        <th>begrenzt verfügbar</th>
        <th>verfügbar bis</th>
        <th>Barrierefrei</th>
        <th>ÖPNV</th>
        <th>Zimmer</th>
        <th>Eigene Wohnung</th>
        <th>Wohnsituation</th>
        <th>Haustiere</th>
        <th>Status</th>
        <th>Vermittelt</th>
        <th>Kommentar</th>
        <th>Interner Kommentar</th>
      </tr>
      {% for data in dataset %}. {%if data.state == "new"%}
      <tr style="background-color: white">
        {%elif data.state == "contacted" %}
      </tr>

      <tr style="background-color: yellow">
        {%elif data.state == "request_contact" %}
      </tr>

      <tr style="background-color: lightblue">
        {%elif data.state == "stale" %}
      </tr>

      <tr style="background-color: grey">
        {%elif data.state == "arrived" %}
      </tr>

      <tr style="background-color: green">
        {%elif data.state == "free" %}
      </tr>

      <tr style="background-color: orange">
        {%elif data.state == "reserved" %}
      </tr>

      <tr style="background-color: red">
        {%endif%}
        <td>{{data.id}}</td>
        <td>{{ data.given_name}}, {{data.last_name}}</td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.plz}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.city}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}"
            >{{data.total_number}}</span
          >
          <td>
            <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}"
              >{{data.children_number}}</span
            >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.street}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.phone}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.mail}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.language}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.cost}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.spontan|yesno:'Ja,Nein'}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.available_from}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.limited_availability}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.available_until}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.accessability|yesno:'Ja,Nein'}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.public_transport|yesno:'Ja,Nein'}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.rooms}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.seperate_appartment|yesno:'Ja,Nein'}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.living_with}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.pets}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{{data.get_state_display}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            >{% for req in data.housingrequest_set.all %} {{ req }} {% endfor
            %}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}">
            {{data.comment}}</span
          >
        </td>
        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}">
            {{data.private_comment}}</span
          >
        </td>

        <td>
          <span title="{{data.id }} {{ data.given_name}}, {{data.last_name}}"
            ><a href="/offers/edit/{{data.id}}">edit </a></span
          >
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>

  <p><a href="{% url 'logout' %}">Log Out</a></p>
  <br />
  <p><a href="{% url 'index'%}"> Startseite</a></p>
</body>
